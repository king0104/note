## 브루트포스(완탐)

- dfs
- 순열
- 백트래킹
- 등등



### <완전탐색이라는 것에 대한 고찰 + dfs>

### [ boj17136_색종이붙이기 ]

#### 1. 완전탐색의 의미

맨 처음엔, 

	1. 현재 위치에서 가장 크게 사각형을 만들 수 있는 로직을 작성하고, 
	1. plain의 y,x를 0,0 부터 10,10까지 하나씩 가장 큰 사각형을 붙이면서 끝까지 가기

의 로직을 생각했었다. 처음부터 끝까지 탐색하므로 완전탐색이라고 생각했다. 하지만, 완전 탐색은 **"모든 '경우'를 탐색하는 것"**이지, **"모든 좌표에 대해 탐색하는 것"이 아님**을 명심하길 바란다. 어떤 경우에는 두 말이 동치일 수 있지만, 그것이 아닌 경우도 확실하게 존재한다.

이 문제의 경우에는, 모든 좌표에 대해 탐색하기 + 한 좌표에 대해 색종이 5개를 각각 붙이는 경우까지 탐색해주어야 한다.



두번째 생각은, 가장 크게 사각형을 만들 수 있는 로직을 탐색하는 방향이 중요하다고 생각했다. 아직도 완전탐색이라는 것의 의미를 정확히 모르는 상태이다. 그래서, 좌표를 돌려 탐색을 진행했는데, **여전히 정답이 아니였다**. 왜냐하면, **나는 모든 좌표에 대해 탐색하는 것이 완전탐색이라고 생각했기 때문이다.** 

(사실, 내가 진행한 로직은, 현재 위치에서 가장 크게 사각형을 만드는 것이기 때문에, 그리디적 사고로 문제를 푼 것이다. **1,2,3,4,5 5개의 색종이를 붙일 수 있는 모든 경우에 대해, 5짜리 색종이를 붙이고 그냥 나머지 경우는 무시한 것이다.** 
**이것으로 보아, 나는 완전탐색을 한 것이다 아니다. "모든 경우를 탐색한 것"이 아니기 때문이다!!**

---

#### 2. dfs의 의미

솔루션을 보고, 내가 한 것이 완전탐색이 아니라는 것을 깨달았다. 모든 경우를 탐색하기 위해선, 다양한 방법이 존재한다. 
그 중, **모든 경우를 "매번 끝까지 탐색하여 결과를 도출"하고, 다음 경우에 대해 탐색하는 방법은, dfs**이다. 



그래서, dfs라는 함수를 통해 재귀적으로 모든 경우를 탐색하면 된다.



#### 2-1. dfs는 그래프적으로 생각하기

이때, 중요한 개념이 있는데, **그래프적으로 생각해라!!** 이다. 완전 탐색을 할 때, 그래프적으로 생각하면 매우 편리하다.

< 그래프 그림은 이런 느낌>

![image-20220413131116820](C:\Users\4545a\AppData\Roaming\Typora\typora-user-images\image-20220413131116820.png)

< 완전탐색은, 그래프적으로 생각하기>

1. 현재 상태 
2. 현재 상태에서 다음 상태로 넘어가는 for문과 dfs

![image-20220413131000905](C:\Users\4545a\AppData\Roaming\Typora\typora-user-images\image-20220413131000905.png)

---

#### 2-2. 모든 경우에 대해, "매번 끝까지 탐색하여 결과를 도출"하고 그 다음 경우로 넘어가는 것이 중요한 이유

완전탐색을 하자면, 여러 방법이 있다. 예를 들어, bfs로 모든 경우를 탐색한다고 생각해보자. 똑같이 그래프를 탐색할 수 있다. 하지만, 한 단계마다 경우의 수가 *5씩 늘어난다. 그리고 매 단계마다 파라미터로 배열의 상태를 깊은 복사를 하여 전달해주어야 하는데, 단계가 늘어날 수록 기하급수적으로 그 작업이 반복되기 때문에 bfs는 좋은 방법이 아니다.

(백트래킹 적인 방식은 사용이 가능하다. 왜냐하면, 현재 시점에서 안되는 경우 해당 bfs는 종료하면 되긴 하므로. 하지만, 위와 같은 배열의 깊은 복사 때문에 문제가 발생하는 것이다)



따라서, dfs가 좋은 방식이 된다. **매번 끝까지 탐색하기 때문에, 한번의 탐색에 대해 필요한 global 배열만 존재하면 된다.** 그리고, 다시 되돌아올 때 미방문 처리(해당 노드를 방문하지 않았을 경우 해주어야 될 로직들 모두를 이야기 한다)를 해주면, global 배열을 재사용 할 수 있다.

---







### 백트래킹

- 애초에 가능하지 않은 경우는 빼기

- 다음 노드 접근 -> 해가 되는지 안되는지 판단
- -> 해가 된다면, 접근 완료
- -> 해가 아니라면, 이전 노드로 복귀(복원)