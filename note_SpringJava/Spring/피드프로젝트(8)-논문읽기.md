### 가상화 기술

보유하고 있는 하드웨어 장비들을 가상화(Virtualization)를 통해서 여러 개의 장비를 묶어 사용자에게 공유자원으로 제공하며 자원의 활용성을 높이고자 한 것이 시초이다. 

- 가상화 기술의 변화와 컨테이너 기반 기술의 부상
  - 가상화 기술은 그 방식과 형태에 따라 전통적으로 하이퍼바이저(Hypervisor) 형과 호스트(Host)형으로 나눌 수 있으며, 각각 장단점이 있어 요구되는 상황에 따라 맞춰 활용되어 왔다.
  -  시스템 환경에 대한 의존성이 없고, 경량화를 통한 속도 및 이식성 향상을 추구하는 컨테이너(Container) 기반의 가상화 기법
    - 쿠버네티스(Kubernetes)7)나 도커(Docker)

---



#### 2.2. 가상화의 종류

1. 서버 가상화
   -  서버의 효율성을 올리기 위해 등장하였으며, 가상화 개념의 시초가 되는 역할을 한 가상화이다. 
   - 가상화를 가능하게 하는 하이퍼바이저 (Hypervisor)와 이 하이퍼바이저를 통해 제어되며 각종 어플리케이션을 실행하기 위한 환경인 가상머신(Virtual Machine, VM)으로 이루어진다.
   - 하이퍼바이저는 Virtualization Layer(가상레이어)에 위치하며 하드웨어와 다수의 VM들 간의 인터페이스 역할을 한다.
2. 데스크톱 가상화
   - 물리적으로는 존재하지 않는 가상의 개별 컴퓨터로 사용자는 모니터, 키보드, 마우스, 스피커 등의 필수적인 입출력 장치만을 활용15)하거나 매우 단순화된 인터페이스만 가지고 컴퓨터를 활용할 수 있다
   - 마치 로컬 시스템처럼 활용할 수 있다
   - 데이터가 로컬 머신이 아닌 센터의 서버에 위치하여 PC의 복원, 생성 등의 작업이 쉬워진다
   - ![image-20211124142347939](C:\Users\4545a\AppData\Roaming\Typora\typora-user-images\image-20211124142347939.png)
3. 어플리케이션 가상화
   - 운영체제(OS)로부터 응용소프트웨어를 캡슐화 하는 기법이다. 이렇게 캡슐화 된 응용프로그램은 실제 설치되지는 않으나, 마치 설치된 것처럼 실행된다.

---

#### 2.3. 가상머신과 하이퍼바이저

- 보통 하드웨어를 가상화하면 [그림 2-1]에서와 같이 그 하드웨어 위에서 다수의 VM들이 생성되어 각각 독립적인 운영체제 환경을 구동한다.
- 물리적인 서버와의 차이점은 여러 개의 가상머신이 동시에 존재할 수 있고, 각 가상머신마다 서로 다른 구동 환경을 갖출 수 있어서 다양한 어플리케이션을 수행하는 것이 가능

#### 하이퍼바이저(Hypervisor)는 공유 컴퓨팅 자원을 관리하고 가상머신들을 컨트롤 하는 중간관리자

- 하드웨어를 가상화하기 위해서는 하드웨어들을 관장할 뿐만 아니라 각각의 가상머신들을 관리할 가상머신모니터(VMM: Virtual Machine Monitor)와 같은 중간관리자가 필요하다.
-  이 중간관리자를 하이퍼바이저(Hyperviser)라고 하며, VM이 동작할 수 있는 환경을 제공 한다. 
  -  하드웨어의 물리적인 리소스를 VM들에게 제공하고, VM과 하드웨어간의 I/O17) 명령을 처리한다.

---

## 3.컨테이너 기반의 클라우드 가상화

### 3.1. 컨테이너의 개요

#### 컨테이너(Container)는 모듈화되고 격리된 컴퓨팅 공간 또는 컴퓨팅 환경을 의미하며, 시스템 환경 의존성을 탈피하고 안정적으로 구동

- 클라우드 컴퓨팅에서 컨테이너는 어플리케이션(App)과 App을 구동하는 환경을 격리한 공간을 의미한다.
- 가상화의 범주 내에서 컨테이너는 기존 하이퍼바이저와 게스트OS를 필요로 했던 가상머신 방식과는 달리, 프로세스를 격리하여‘모듈화된 프로그램 패키지’로써 수행하는 것을 의미

-  기존의 가상머신에 비해 가볍고 빠르게 동작

- ![image-20211124144512093](C:\Users\4545a\AppData\Roaming\Typora\typora-user-images\image-20211124144512093.png)
  - 라이브러리, 바이너리, 기타 구성파일 등을 패키지로 묶어서 배포 > 오류 최소화



-  클라우드 컴퓨팅에서 이미 널리 쓰이는 서버 가상화 기술이 있는데 왜 컨테이너가 인기를 끄는 것일까? 가장 큰 이유는 가볍기(경량화) 때문이다.
  - 컨테이너는 가상머신과는 달리 운영체제를 제외하고 어플리케이션 실행에 필요한 모든 파일을 패키징(Packaging) 한다는 점에서 ‘OS레벨 가상화26)’ 라고도 한다.
  - 게스트OS와 하이퍼바이저가 없다는 측면에서 차별성
  - 특정 클라우드 어플리케이션이 실행되기 위한 모든 라이브러리와 바이너리파일 등이 패키지화되어 있어서, 그저 기존의 시스템에서 실행하면 된다. 반면, 가상머신 방식은 새로운 서비스를 제공하기 위한 특정 어플리케이션을 실행시키려면, 먼저 새로운 VM을 띄우고 자원을 (- 동적 또는 미리 세팅한 대로) 할당한 다음, 필요한 게스트OS를 부팅한 후 어플리케이션을 실행시켜야 한다

#### 3.2 도커의 등장과 클라우드 기술의 변화

#### 도커(Docker)는 오픈소스 기반의 컨테이너 관리 플랫폼이자 현재 컨테이너 기반 클라우드 컴퓨팅의 디펙토(de facto)

- 도커는 리눅스의 응용프로그램들을 소프트웨어 컨테이너 안에 배치시키는 일을 자동화 하는 오픈소스 프로젝트
- 도커의 특징은 컨테이너 이미지 생성 기능을 제공하는 것에 있다.
  -  특정 컨테이너에서 실행될 소프트웨어와 방식에 대한‘구동사양(컨테이너 실행에 필요한 파일과 설정 값 등을 포함)’을 미리 정의해 놓는 것을 의미한다.
  - 도커를 활용한 이미지는 수정이 불가한 형태로 배포 >  컨테이너에서 실행되는 앱과 구동하는 시스템이 분리된 형태
  - 이미지에는 컨테이너를 실행하기 위한 모든 필요 요소가 담겨있다. 이로 인해 실행환경에 구애받지 않으며, 환경 의존성을 벗어날 수 있다.

#### 3.3 도커의 써드파티 - 쿠버네티스(Kubernetes)

#### 다중 컨테이너에 대한 효율적인 관리와 클러스터링

- 다수의 컨테이너(서비스)의 실행을 관리 및 조율하는 것을 컨테이너 오케스트레이션(Orchestration)이라고 한다
- 쿠버네티스(Kubernetes, K8S)는 구글에서 공개한 대표적인 컨테이너 관리 시스템으로 최근 가장 주목받고 있는 오케스트레이션 플랫폼이다. 
- 쿠버네티스는 클러스터 구조를 띄는데, 클러스터 전체를 관리하는 마스터(Kubernetes Master)가 있고, 컨테이너가 배포되는 가상 또는 물리 머신인 노드(Worker Node)가 존재한다.

- 쿠버네티스에 의해서 배포 및 관리되는 컨테이너들은 포드(Pod)라는 단위로 묶여서 관리된다. Pod는 하나 이상의 컨테이너를 포함하고 있고, 같은 Pod내에 속해있는 컨테이너들은 서로 로컬 통신이 가능하며, 디스크 자원도 공유한다. 이렇게 하면 서비스에 따른 컴퓨팅 파워의 스케일링(Scaling)이 쉬워진다.

---

### 4. 시사점

#### 4.1 클라우드 기술의 변혁을 가져온 DevOps

#### DevOps는 소프트웨어 개발과 정보기술 전문 운영자 간의 소통과 협업을 강조하는 개발 환경을 의미하며 컨테이너 기반 클라우드의 초석

- DevOps는 소프트웨어 개발(Development)과 운영(Operations)의 합성어이다. DevOps는 SW개발조직과 운영조직간 상호 긴밀한 소통과 협력, 대응을 의미하고, SW제품과 서비스를 빠른 시간에 개발 및 배포하는 것을 목적으로 한다

- 또한 시스템의 개발과 운영에는 기본철학에 괴리가 있는데, 이를테면 개발측은 시스템에 문제가 발생했을 때 빠른 수정을 원하는 반면, 운영측은 안정적인 서비스가 목적으로 업데이트로 인한 변화와 혹시 발생할 수 있는 불안정한 문제(서버다운, 지연현상, 버그 등)와 같은 리스크를 기피하고자 한다



#### 4-3. 컨테이너 기술의 전망

#### 한계점도 분명하여 이를 해결하고자 하는 기술개발도 심화될 것

-  적어도 당분간은 컨테이너가 하이퍼바이저를 대체하기에는 한계가 있을 것이라는 시각이 지배적이다. 이미 앞에서 언급하였지만 하이퍼바이저가 관리하는 가상머신 형태의 가상화 기법도 컨테이너 방식보다 보안과 안정성 등과 같은 여러 측면에서 분명 더 큰 장점이 있기 때문이다. 