### 3주차

#### 궁금증

- [ ] CPU에서 IDT로 가는 방법은 뭐지?

- [x] 3주차 시작 부분 그림에서 CPU의 역할은 뭐지? 계산 이런건 절대 아니네?

- [ ] call stack 프레임 동작과정 알기



- CPU의 역할

  1. 사용자 프로세스 수행하기

  2. **인터럽트가 들어오면, 인터럽트 처리하기**
     - 인터럽트 받음 -> IDT -> ISR 호출

---



#### 보호

- **이중모드**

  - 사용자 모드 / 커널 모드를 나누는 것
  - 문제가 될 만한 코드는, 커널에 다 넣어두고 커널에서만 사용하도록 하는 것.
  - 마치, 폴더 모음 중, 보안 폴더 부분을 나누는 것과 같다.

- **모드비트**

  - 상태 레지스터의 1비트
  - 모드비트 = **0 : 커널모드**


---

- 사용자 모드
  - 특권명령어 수행 불가

- **커널 모드**
  - **특권명령어** 수행 가능
  - 모든 I/O 명령은, 특권명령어이다
    - 불법 I/O 보호 방법
  - 레지스터의 적재 명령은, 특권명령어이다.
    - 불법메모리 접근 차단
    - BASE, LIMIT 레지스터로 메모리 영역 지정
  - 타임슬라이스 실현 또한, 특권명령어 이다.
    - CPU보호

---



- 캐시 / 부트스트래핑

  - 레지스터(cpu)와 메모리 사이
  - hit ratio

  ---

  - 운영체제의 시동을 운영체제 일부 기능이 스스로 수행한다

  

- 모노리틱 커널 / 마이크로 커널
  - 모든 기능이 커널 내부 / 핵심 기능만 커널 내부 - 나머지는 프로세스로 수행


---

#### 프로세스

- 프로그램

  - 저장장치(HDD)에 존재

- 프로세스

  - 메인 메모리에 존재
  - 팁 : CPU는 메인 메모리 위의 코드만 수행할 수 있기 때문에, 프로세스가 메인 메모리 위에 존재하는 것임.
  - 시스템콜을 통해 자원 요구

  

- 프로세스의 문맥

  - 실행 중단 시 보존, 속개 시 원상 복구되어야 할 프로세스의 모든 실행 정보
  - 사용자 수준 문맥 / 커널 수준 문맥



- 사용자 수준 문맥

  - stack
  - heap
  - bss
  - data
  - text

  