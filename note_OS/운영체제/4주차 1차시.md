### 커널 수준 문맥

#### cpu 내의 특수 레지스터 내용

프로세스가 중단과 속개가 일어날 때, 오류 없이 일어나기 위해 잘 보존되어야 할 내용들.

- PC(program counter)

  - 의미
    - 다음으로 읽어올 명령어의 주소
    - CPU가 다음으로 fetch할 주소를 담고 있는 레지스터
    - 기본적으로, **현재 수행한 명령어의 바로 다음 명령어의 주소**로 자동으로 설정

  - 시분할 시스템에서, 문맥으로 중요한 이유
    - 어떤 명령어에서 타임 슬라이스가 소진이 되어서, 스케줄링 일어나는 경우 생각
    - 한 프로세스가 중단되었다가 다시 속개될 때, 다음 명령어의 주소를 알아야 끊긴 시점부터 다시 속개될 수 있기 때문에, 중요하다.



- PSR

  - 계산하다가 끊겼을 때, 저장해두어야 함.

  - fetch한 명령어를 decode해서 실행하면, 그 결과로 특정한 상태가 발생 -> 그 상태를 flag reg.(=psr)에 저장

  - 상태 종류:

    - 덧셈, 곱셈 시 carry 발생

    - cpu의 상태를 말하는 것

- SP
  - 프로세스 수행 시 콜스택 운영 -> 콜 스택의 탑에 해당하는 주소를 저장하는데 사용하는 특수 레지스터
  - 함수 중심의 프로그램 수행 시 매우 중요함.



#### 범용 레지스터

- 사칙연산이나 논리 연산 하는 명령어의 사용
- operand로 사용되는 계산 목적의 레지스터 







사용자 수준의 문맥 vs 특수 레지스터

- 임의의 프로세스가 실행되고 있는 상태
  - 콜스택의 top : sp reg.
  - text 내의 다음 수행할 명령어의 주소 : pc reg.
  - 명령의 결과로 생겨나는 하나하나의 결과들 : psr



- 

