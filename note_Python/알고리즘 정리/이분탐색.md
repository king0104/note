### 이분탐색 

- 배열 내부의 데이터가 **정렬**되어 있어야만 사용할 수 있는 알고리즘

- 위치를 나타내는 변수 3개

  - lo, hi, mid
  - 찾으려는 데이터와 mid 위치의 데이터를 반복적으로 비교하여 원하는 데이터를 찾는 것

  

- 매개변수 탐색의 일종이다.



- **탐색 범위가 매우 크다면, 당연하다는 듯이 이분탐색**을 떠올려야 한다!

  - 절반씩 좁혀가므로, 탐색 속도가 매우 빠름
  - o(logN)
  - **찾으려는 데이터의 범위가 1,000만 이상** 넘어가면(2,000만 이상이면 거의 무조건 이분탐색)

  

#### 매개변수 탐색 (파라메트릭 서치)

- 최적화 문제를 결정 문제로 바꾸어 해결하는 기법

  - 결정 문제 : '예' 혹은 '아니오'로 답하는 문제

  

- **'원하는 조건을 만족하는 가장 알맞은 값을 찾는 문제'** 에 주로 사용됨
  - 예시)
    - '범위 내에서 조건을 만족하는 가장 큰 값'을 찾으라는 최적화 문제라면, 이진 탐색으로 결정 문제를 해결하면서 범위를 좁혀갈 수 있다. 
  - 
- 코테에서 보통 매개변수 탐색은, 이분탐색을 이용하여 해결한다



#### <푸는 법>

1. f(h)의 f 찾기
   - **문제에서 구하기를 원하는 값**이 함숫값이 된다
     - 예시)
     - 이때 만들 수 있는 최대 랜선의 길이



2. h가 될 수 있는 값 찾기

   - 함숫값을 구하기 위해, 탐색해야할 데이터 모음(정의역)이다.

   - 이건 문제에서 주어져 있는 것은 아니므로, h라는 데이터가 어떤 것인지 찾아야 한다.



3. 문제 풀기

   - 최적화 문제 -> **결정 문제**이므로, 

   - **'f(h) 가 된다 / 안된다' 를 통해 lo = mid+1 , hi = mid-1 과 같이 탐색 범위 정해주는 것!!**

     - f(h)를 구하는 함수를 작성해주어야 함

       - 들어갈 내용

         1. 파라미터 : mid

         2. 함숫값을 구하기 위한 로직

         3. return True / False

         

     - 메인 함수에 f(h) 사용하기

---

#### 매개변수 탐색과 이분 탐색

- f(h) = y 라는 함수에서, **h를 찾는 것**이 매개변수 탐색
  - 이때, **f(h) = y라는 함수가 단조증가, 단조감수**일 경우, **이분탐색으로 매개변수를 탐색할 수 있음이 보장**된다!!! 이 경우 이분탐색이라 부르는 것!!!
  - h 
    - **lo, hi, mid와 같이 코드 상에서 우리가 조정하는 값**임
  - y
    - 문제에서 찾기를 원하는 값
      - 예시)
        - 이때 만들 수 있는 최대 랜선의 길이
        - 
    - f(mid) 와 비교해주는 값. 
    - y와 f(mid) 값 비교해서 lo, hi 값을 조정하는 것임.
    - 변하지 않는 값이다. 문제에서 주어져 있다. 정해져있다



#### 단조 증가

![image-20220326174050503](C:\Users\4545a\AppData\Roaming\Typora\typora-user-images\image-20220326174050503.png)

1. y와 f(mid) 를 비교한다

2. 현재, y가 존재하는 값은 오른쪽이므로, lo = mid + 1로 매개변수를 이동시켜준다.





#### 단조 감소

![image-20220326174039606](C:\Users\4545a\AppData\Roaming\Typora\typora-user-images\image-20220326174039606.png)

1. y와 f(mid) 를 비교한다

2. 현재, y가 존재하는 값은 왼쪽이므로, hi = mid +1로 매개변수를 이동시켜준다.



---

#### 이분 탐색 문제를 풀 때, 핵심 2가지

#### 1. h, f(h) 찾기

- 문제를 풀 때 핵심은, **무엇이 h가 되고, 무엇이 f(h) 가 되는지** 아는 것.
  - 예를 들어, 랜선 자르기에서 
    - h는 자르는 크기
    - f(h) 는, 잘랐을 때 생기는 랜선의 갯수 이다.



#### 2. 정답이 위치하는 범위에, 우리가 출력할 ans 담기

- 현재, 문제에서 구하고자 하는 값이 뭐냐?? 가 가장 중요한 포인트이다.

  1. mid 그 자체인 경우

     - 숫자 찾기 같은 쉬운 것

  2. **mid를 이용하는 경우**

     - mid를 이용하여 구하고자 하는 값을 만들어내는 로직을 작성해야 한다. 
     - 11`모든 mid에 대해 각 mid마다 구하고자 하는 값을 구해보고, 조건문으로 start, end의 위치를 변경해야 한다.
     - if-else 분기문에서 들어가야 하는 것은, start, end 위치 재설정 & " 우리가 구하고자 하는 값이 어디에 있는가" 이다

     

- 조금 더 간단히 설명해보자.

- 1. 문제에서 구하고자 하는 값이 무엇인지 파악하기
  2. mid를 이용하여 구하고자 하는 값을 만들어내는 로직 작성하기

  

  1. whlie(start <= end): 시작

  2. [ 현재 mid를 통해 로직으로 만들어낸 답 vs 정답 ] 비교하기

     1. if
     2. else

     - **여기서 가장 중요한 것. **
     - **"정답"이 어느 위치에 있는가!!!!!가 중요하다. **
     - **정답이 위치하는 범위에, ans = mid와 같이 우리가 출력할 ans를 받아두어야 한다!!!**

  3. (while문 종료)

  

  4. print(ans)



---

### 이분탐색 주의점

1. **while lo <= hi** 를 사용해야 한다(<= 사용하기)

   - lo, hi를 업데이트 하는 방식이

     - lo = mid + 1
     - hi = mid - 1
     - 이라면, lo <= hi 로 while 조건을 설정해야 한다!!!

   - 그냥, 아래는 세트라고 생각하자

   - ```python
     while lo <= hi
     	lo = mid + 1
     	hi = mid - 1
     ```

     

   - [예시 - 랜선자르기]

     ```python
     k,n = map(int,input().split())
     lines = []
     for _ in range(k):
         lines.append(int(input()))
         
     # 최소 1로 자르기 때문에, 1을 두어야 한다. 0으로 하면, zero division error 발생
     lo = 1 
     hi = max(lines)
     ans = -1
     while lo <= hi:
         # 1. mid로 자르기
         mid = (lo + hi) // 2
     
         cnt = 0
         for v in lines:
             cnt += (v // mid)
     
         # 2. 갯수 비교해서, lo, hi 움직이기
         if cnt < n:
             hi = mid - 1
         elif cnt >= n:
             ans = mid
             lo = mid + 1
     
     print(ans)
     ```



2. lo, hi 범위 설정 시, lo는 0이 필요한지 아닌지 확인하고, hi는 가능한 최대 숫자로 두기

   - lo
     - **무턱대고 0이라고 두지 말자.** 0이라고 두면, mid가 0이 되어서 zero division error와 같은 에러 발생 가능하므로, **문제 상황에 맞게 0 또는 1로 두기**
     
   - hi
     - 조금 줄여보겠다고 조건에 맞게 줄여버리면, 생각하지 못한 예외상황 발생할 수 있다. 따라서, **문제 상황에서 가질 수 있는 가장 큰 숫자로 두기.** (문제에서 입력으로 준 n,k 이런거 아닐 확률 높으니.. 주의)
     - 어차피, log(n)이므로 큰 숫자 해도 타격 없음
   
   - [예시 - 랜선자르기]
   
   - [예시 - 공유기설치]
   
     - ```python
       # 오답 코드
       hi = n
       # 정답 코드
       hi = int(1e9)+1 # 또 범위를 틀려서... 계속 틀렸다... 완전 주의할 것!!
       ```
   
       



---

# 이분탐색 유형 2가지  (2023-02-23)

### 1. 문제의 답이 함숫값이 되는 경우

[핵심]

1. 문제의 답을 결정짓는 요소가 이분탐색의 범위가 된다
2. 문제의 답을 결정짓는 요소가 mid 일때, 문제의 답을 찾아서 이전값보다 큰지 작은지 비교하는 것이다.



[그림]



### 2. 문제의 답이 mid 가 되는 경우

[예시 문제]

- 백준 17951 흩날리는 시험시 속에서 내 평점이 느껴진거야



[설명]

- 이런 경우에는, 문제의 답이 될 수 있는 것이 이분탐색의 범위가 된다
  - (**문제의 답이 이분탐색의 범위가 되는 경우가 많다**)
  - 위의 문제에서는, 최대시험점수가 될 수 있는 범위라고 할 수 있겠다.



[핵심]

1. 문제의 답이 이분탐색의 범위가 된다

2. 문제의 답이 mid일 때, **[문제에서 주어진 조건들을 만족하느냐 / 아니냐]** 로 이분탐색의 범위를 조정하는 것이다. 이게 엄청난 핵심이다.



[실제 적용]

- 아래와 같은 그림이랄까..? 함숫값이 여기서는 '조건을 만족하는지 / 안하는지' 가 되고, 그것으로 이분탐색의 범위를 조정하는 것이다!

- ![image-20230223194557911](/Users/yoon/Library/Application Support/typora-user-images/image-20230223194557911.png)

